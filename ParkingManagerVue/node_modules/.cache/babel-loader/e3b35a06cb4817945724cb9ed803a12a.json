{"remainingRequest":"F:\\IdeaProjects\\parking\\ParkingManagerVue\\node_modules\\babel-loader\\lib\\index.js!F:\\IdeaProjects\\parking\\ParkingManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\IdeaProjects\\parking\\ParkingManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\IdeaProjects\\parking\\ParkingManagerVue\\src\\components\\mane\\Money.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\IdeaProjects\\parking\\ParkingManagerVue\\src\\components\\mane\\Money.vue","mtime":1696068422443},{"path":"F:\\IdeaProjects\\parking\\ParkingManagerVue\\babel.config.js","mtime":1616250210485},{"path":"F:\\IdeaProjects\\parking\\ParkingManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1720454233480},{"path":"F:\\IdeaProjects\\parking\\ParkingManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1720454234267},{"path":"F:\\IdeaProjects\\parking\\ParkingManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1720454233480},{"path":"F:\\IdeaProjects\\parking\\ParkingManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1720454234585}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG90YWw6IDAsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGNhclR5cGU6ICIiLAogICAgICBmZWVzOiBbXSwKICAgICAgZmVlU2hvdzogZmFsc2UsCiAgICAgIGZlZUVkaXQ6IHsKICAgICAgICBjYXJUeXBlOiAiIiwKICAgICAgICBtb25leTogIiIsCiAgICAgICAgbW9uZXlEZXNjOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdCgpIHsKICAgICAgYXhpb3MuZ2V0KCIvYXBpL2ZlZS9saXN0P2NhclR5cGU9IiArIHRoaXMuY2FyVHlwZSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMuZmVlcyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHRvRWRpdChyb3cpIHsKICAgICAgdGhpcy5mZWVFZGl0LmNhclR5cGUgPSByb3cuY2FyVHlwZTsKICAgICAgdGhpcy5mZWVFZGl0Lm1vbmV5ID0gcm93Lm1vbmV5OwogICAgICB0aGlzLmZlZUVkaXQubW9uZXlEZXNjID0gcm93Lm1vbmV5RGVzYzsKICAgICAgdGhpcy5mZWVTaG93ID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2cocm93KTsKICAgIH0sCiAgICBlZGl0Q2xvc2UoKSB7CiAgICAgIHRoaXMuZmVlRWRpdC5jYXJUeXBlID0gIiI7CiAgICAgIHRoaXMuZmVlRWRpdC5tb25leSA9ICIiOwogICAgICB0aGlzLmZlZUVkaXQubW9uZXlEZXNjID0gIiI7CiAgICAgIHRoaXMuZmVlU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIHRvZmVlVXNlcigpIHt9LAogICAgZWRpdENvbigpIHsKICAgICAgYXhpb3MucG9zdCgiL2FwaS9mZWUvdXBkYXRlIiwgdGhpcy5mZWVFZGl0KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgaWYgKHJlcy5kYXRhLmRhdGEuZmxhZykgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLkv67mlLnmiJDlip/vvIEiKTsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgICAgdGhpcy5lZGl0Q2xvc2UoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5kYXRhLm1zZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+aXtumXtOi9rOaNouWHveaVsAogICAgZGF0ZUZvcm1hdCh2YWwsIHRpbWVUeXBlKSB7CiAgICAgIC8v5bCG5a2X56ym5Liy5oiW6ZW/5pW05Z6L6L2s5Li65pe26Ze057G75Z6LCiAgICAgIGxldCBkYXRlID0gbmV3IERhdGUodmFsKTsKICAgICAgLy/pu5jorqTmoLzlvI/kuLon5bm05pyI5pelIOaXtjrliIY656eSJwogICAgICBsZXQgcmVzdWx0Rm9ybWF0ID0gIlnlubRN5pyIROaXpSBoOm06cyI7CiAgICAgIHN3aXRjaCAodGltZVR5cGUpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICByZXN1bHRGb3JtYXQgPSAiWeW5tE3mnIhE5pelIjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHJlc3VsdEZvcm1hdCA9ICJZLU0tRCI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICByZXN1bHRGb3JtYXQgPSAiWS1NLUQgaDptOnMiOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgbGV0IHJlc3VsdCA9IGZvcm1hdFRpbWUocmVzdWx0Rm9ybWF0KTsKCiAgICAgIC8vIOagvOW8j+WMluaXpeacn++8jOWmguaciOOAgeaXpeOAgeaXtuOAgeWIhuOAgeenkuS/neivgeS4ujLkvY3mlbAKICAgICAgZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG4pIHsKICAgICAgICBuID0gbi50b1N0cmluZygpOwogICAgICAgIHJldHVybiBuWzFdID8gbiA6ICIwIiArIG47CiAgICAgIH0KICAgICAgLy8g5Y+C5pWwbnVtYmVy5Li65q+r56eS5pe26Ze05oiz77yMZm9ybWF05Li66ZyA6KaB6L2s5o2i5oiQ55qE5pel5pyf5qC85byPCiAgICAgIGZ1bmN0aW9uIGZvcm1hdFRpbWUoZm9ybWF0KSB7CiAgICAgICAgbGV0IG5ld0FyciA9IFtdOwogICAgICAgIGxldCBmb3JtYXRBcnIgPSBbIlkiLCAiTSIsICJEIiwgImgiLCAibSIsICJzIl07CiAgICAgICAgbmV3QXJyLnB1c2goZGF0ZS5nZXRGdWxsWWVhcigpKTsKICAgICAgICBuZXdBcnIucHVzaChmb3JtYXROdW1iZXIoZGF0ZS5nZXRNb250aCgpICsgMSkpOwogICAgICAgIG5ld0Fyci5wdXNoKGZvcm1hdE51bWJlcihkYXRlLmdldERhdGUoKSkpOwogICAgICAgIG5ld0Fyci5wdXNoKGZvcm1hdE51bWJlcihkYXRlLmdldEhvdXJzKCkpKTsKICAgICAgICBuZXdBcnIucHVzaChmb3JtYXROdW1iZXIoZGF0ZS5nZXRNaW51dGVzKCkpKTsKICAgICAgICBuZXdBcnIucHVzaChmb3JtYXROdW1iZXIoZGF0ZS5nZXRTZWNvbmRzKCkpKTsKICAgICAgICBmb3IgKGxldCBpIGluIG5ld0FycikgewogICAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoZm9ybWF0QXJyW2ldLCBuZXdBcnJbaV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZm9ybWF0OwogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfQp9Ow=="},{"version":3,"names":["axios","data","total","loading","carType","fees","feeShow","feeEdit","money","moneyDesc","methods","getList","get","then","res","toEdit","row","console","log","editClose","tofeeUser","editCon","post","flag","$message","success","error","msg","dateFormat","val","timeType","date","Date","resultFormat","result","formatTime","formatNumber","n","toString","format","newArr","formatArr","push","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","i","replace","mounted"],"sources":["src/components/mane/Money.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item\r\n                ><i\r\n                    class=\"iconfont icon-r-shield\"\r\n                    style=\"margin: 5px; font-size: 22px\"\r\n                >\r\n                    车位费用设置</i\r\n                ></el-breadcrumb-item\r\n            >\r\n        </el-breadcrumb>\r\n\r\n        <!-- 卡片视图区域 -->\r\n        <el-card>\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"4\">\r\n                    <el-input\r\n                        placeholder=\"请输入车位类型\"\r\n                        v-model=\"carType\"\r\n                        clearable\r\n                    ></el-input>\r\n                </el-col>\r\n                <el-col :span=\"3\">\r\n                    <el-button\r\n                        type=\"primary\"\r\n                        style=\"font-size: 18px\"\r\n                        @click=\"getList\"\r\n                    >\r\n                       <i class=\"iconfont icon-r-find\"  style=\"font-size: 22px;\"></i>  搜索</el-button\r\n                    >\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <el-table v-loading=\"loading\" :data=\"fees\" border stripe>\r\n                <el-table-column\r\n                    width=\"50\"\r\n                    label=\"序号\"\r\n                    align=\"center\"\r\n                    type=\"index\"\r\n                ></el-table-column>\r\n                <el-table-column label=\"用户名\" prop=\"carType\" align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"价位（元/小时）\"\r\n                    prop=\"money\"\r\n                    align=\"center\"\r\n                ></el-table-column>\r\n                <el-table-column\r\n                    label=\"价位说明\"\r\n                    prop=\"moneyDesc\"\r\n                    align=\"center\"\r\n                ></el-table-column>\r\n                <el-table-column label=\"创建时间\" prop=\"feeTime\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        {{ dateFormat(scope.row.feeTime, 3) }}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                            @click=\"toEdit(scope.row)\"\r\n                            type=\"success\"\r\n                            circle\r\n                            ><i\r\n                                class=\"iconfont icon-r-edit\"\r\n                                style=\"font-size: 24px\"\r\n                            ></i\r\n                        ></el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-card>\r\n        <el-dialog\r\n            title=\"车位类型价格修改\"\r\n            :visible.sync=\"feeShow\"\r\n            width=\"50%\"\r\n            center\r\n            @close=\"editClose\"\r\n        >\r\n            <el-form :model=\"feeUser\" label-width=\"80px\">\r\n                <el-form-item label=\"车位类型\">\r\n                    <el-input v-model=\"feeEdit.carType\" disabled></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"价格（元/小时）\">\r\n                    <el-input v-model=\"feeEdit.money\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"价格说明\">\r\n                    <el-input v-model=\"feeEdit.moneyDesc\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n\r\n            <!-- 底部区域 -->\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editClose\" style=\"font-size: 18px;\"><i class=\"iconfont icon-r-left\" style=\"font-size: 22px;\"></i> 取消</el-button>\r\n                <el-button\r\n                    type=\"primary\"\r\n                    @click=\"editCon\"\r\n                   style=\"font-size: 18px;\"><i class=\"iconfont icon-r-yes\" style=\"font-size: 22px;\"></i> \r\n                    确认修改</el-button\r\n                >\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            total: 0,\r\n            loading: true,\r\n            carType: \"\",\r\n            fees: [],\r\n            feeShow: false,\r\n            feeEdit: {\r\n                carType: \"\",\r\n                money: \"\",\r\n                moneyDesc: \"\",\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        getList() {\r\n            axios.get(\"/api/fee/list?carType=\" + this.carType).then((res) => {\r\n                this.loading = false;\r\n                this.fees = res.data.data;\r\n            });\r\n        },\r\n        toEdit(row) {\r\n            this.feeEdit.carType = row.carType;\r\n            this.feeEdit.money = row.money;\r\n            this.feeEdit.moneyDesc = row.moneyDesc;\r\n            this.feeShow = true;\r\n            console.log(row);\r\n        },\r\n        editClose() {\r\n            this.feeEdit.carType = \"\";\r\n            this.feeEdit.money = \"\";\r\n            this.feeEdit.moneyDesc = \"\";\r\n            this.feeShow = false;\r\n        },\r\n        tofeeUser() {},\r\n        editCon() {\r\n            axios.post(\"/api/fee/update\", this.feeEdit).then((res) => {\r\n                this.loading = false;\r\n                if (res.data.data.flag) {\r\n                    this.$message.success(\"修改成功！\");\r\n                    this.getList();\r\n                    this.editClose();\r\n                } else {\r\n                    this.$message.error(res.data.data.msg);\r\n                }\r\n            });\r\n        },\r\n        //时间转换函数\r\n        dateFormat(val, timeType) {\r\n            //将字符串或长整型转为时间类型\r\n            let date = new Date(val);\r\n            //默认格式为'年月日 时:分:秒'\r\n            let resultFormat = \"Y年M月D日 h:m:s\";\r\n            switch (timeType) {\r\n                case 1:\r\n                    resultFormat = \"Y年M月D日\";\r\n                    break;\r\n                case 2:\r\n                    resultFormat = \"Y-M-D\";\r\n                    break;\r\n                case 3:\r\n                    resultFormat = \"Y-M-D h:m:s\";\r\n                    break;\r\n            }\r\n            let result = formatTime(resultFormat);\r\n\r\n            // 格式化日期，如月、日、时、分、秒保证为2位数\r\n            function formatNumber(n) {\r\n                n = n.toString();\r\n                return n[1] ? n : \"0\" + n;\r\n            }\r\n            // 参数number为毫秒时间戳，format为需要转换成的日期格式\r\n            function formatTime(format) {\r\n                let newArr = [];\r\n                let formatArr = [\"Y\", \"M\", \"D\", \"h\", \"m\", \"s\"];\r\n                newArr.push(date.getFullYear());\r\n                newArr.push(formatNumber(date.getMonth() + 1));\r\n                newArr.push(formatNumber(date.getDate()));\r\n\r\n                newArr.push(formatNumber(date.getHours()));\r\n                newArr.push(formatNumber(date.getMinutes()));\r\n                newArr.push(formatNumber(date.getSeconds()));\r\n\r\n                for (let i in newArr) {\r\n                    format = format.replace(formatArr[i], newArr[i]);\r\n                }\r\n                return format;\r\n            }\r\n\r\n            return result;\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getList();\r\n    },\r\n};\r\n</script>"],"mappings":";AA0GA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,OAAA;MACAC,OAAA;MACAC,IAAA;MACAC,OAAA;MACAC,OAAA;QACAH,OAAA;QACAI,KAAA;QACAC,SAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACAX,KAAA,CAAAY,GAAA,iCAAAR,OAAA,EAAAS,IAAA,CAAAC,GAAA;QACA,KAAAX,OAAA;QACA,KAAAE,IAAA,GAAAS,GAAA,CAAAb,IAAA,CAAAA,IAAA;MACA;IACA;IACAc,OAAAC,GAAA;MACA,KAAAT,OAAA,CAAAH,OAAA,GAAAY,GAAA,CAAAZ,OAAA;MACA,KAAAG,OAAA,CAAAC,KAAA,GAAAQ,GAAA,CAAAR,KAAA;MACA,KAAAD,OAAA,CAAAE,SAAA,GAAAO,GAAA,CAAAP,SAAA;MACA,KAAAH,OAAA;MACAW,OAAA,CAAAC,GAAA,CAAAF,GAAA;IACA;IACAG,UAAA;MACA,KAAAZ,OAAA,CAAAH,OAAA;MACA,KAAAG,OAAA,CAAAC,KAAA;MACA,KAAAD,OAAA,CAAAE,SAAA;MACA,KAAAH,OAAA;IACA;IACAc,UAAA;IACAC,QAAA;MACArB,KAAA,CAAAsB,IAAA,yBAAAf,OAAA,EAAAM,IAAA,CAAAC,GAAA;QACA,KAAAX,OAAA;QACA,IAAAW,GAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAsB,IAAA;UACA,KAAAC,QAAA,CAAAC,OAAA;UACA,KAAAd,OAAA;UACA,KAAAQ,SAAA;QACA;UACA,KAAAK,QAAA,CAAAE,KAAA,CAAAZ,GAAA,CAAAb,IAAA,CAAAA,IAAA,CAAA0B,GAAA;QACA;MACA;IACA;IACA;IACAC,WAAAC,GAAA,EAAAC,QAAA;MACA;MACA,IAAAC,IAAA,OAAAC,IAAA,CAAAH,GAAA;MACA;MACA,IAAAI,YAAA;MACA,QAAAH,QAAA;QACA;UACAG,YAAA;UACA;QACA;UACAA,YAAA;UACA;QACA;UACAA,YAAA;UACA;MACA;MACA,IAAAC,MAAA,GAAAC,UAAA,CAAAF,YAAA;;MAEA;MACA,SAAAG,aAAAC,CAAA;QACAA,CAAA,GAAAA,CAAA,CAAAC,QAAA;QACA,OAAAD,CAAA,MAAAA,CAAA,SAAAA,CAAA;MACA;MACA;MACA,SAAAF,WAAAI,MAAA;QACA,IAAAC,MAAA;QACA,IAAAC,SAAA;QACAD,MAAA,CAAAE,IAAA,CAAAX,IAAA,CAAAY,WAAA;QACAH,MAAA,CAAAE,IAAA,CAAAN,YAAA,CAAAL,IAAA,CAAAa,QAAA;QACAJ,MAAA,CAAAE,IAAA,CAAAN,YAAA,CAAAL,IAAA,CAAAc,OAAA;QAEAL,MAAA,CAAAE,IAAA,CAAAN,YAAA,CAAAL,IAAA,CAAAe,QAAA;QACAN,MAAA,CAAAE,IAAA,CAAAN,YAAA,CAAAL,IAAA,CAAAgB,UAAA;QACAP,MAAA,CAAAE,IAAA,CAAAN,YAAA,CAAAL,IAAA,CAAAiB,UAAA;QAEA,SAAAC,CAAA,IAAAT,MAAA;UACAD,MAAA,GAAAA,MAAA,CAAAW,OAAA,CAAAT,SAAA,CAAAQ,CAAA,GAAAT,MAAA,CAAAS,CAAA;QACA;QACA,OAAAV,MAAA;MACA;MAEA,OAAAL,MAAA;IACA;EACA;EACAiB,QAAA;IACA,KAAAxC,OAAA;EACA;AACA","ignoreList":[]}]}