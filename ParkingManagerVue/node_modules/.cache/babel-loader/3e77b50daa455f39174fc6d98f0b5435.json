{"remainingRequest":"F:\\IdeaProjects\\ParkingManagerVue\\node_modules\\babel-loader\\lib\\index.js!F:\\IdeaProjects\\ParkingManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\IdeaProjects\\ParkingManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\IdeaProjects\\ParkingManagerVue\\src\\components\\car\\CarManeger.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\IdeaProjects\\ParkingManagerVue\\src\\components\\car\\CarManeger.vue","mtime":1696068408917},{"path":"F:\\IdeaProjects\\ParkingManagerVue\\babel.config.js","mtime":1616250210485},{"path":"F:\\IdeaProjects\\ParkingManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1720454233480},{"path":"F:\\IdeaProjects\\ParkingManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1720454234267},{"path":"F:\\IdeaProjects\\ParkingManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1720454233480},{"path":"F:\\IdeaProjects\\ParkingManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1720454234585}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3RhbDogMCwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgcXVlcnlJbmZvOiB7CiAgICAgICAgY2FyQXJlYTogIiIsCiAgICAgICAgY2FyVHlwZTogIiIsCiAgICAgICAgY2FyU3RhdGU6ICIiLAogICAgICAgIHBhZ2VudW06IDEsCiAgICAgICAgcGFnZVNpemU6IDYKICAgICAgfSwKICAgICAgY2FyczogW10sCiAgICAgIHJlZ2lzdGVyQ2FyOiB7fSwKICAgICAgZWRpdENhcjogewogICAgICAgIHNpZDogIiIsCiAgICAgICAgc3RhbGxOdW06ICIiLAogICAgICAgIHN0YWxsQXJlYTogIiIsCiAgICAgICAgc3RhbGxUeXBlOiAiIgogICAgICB9LAogICAgICBlZGl0U2hvdzogZmFsc2UsCiAgICAgIHVpZDogdW5kZWZpbmVkLAogICAgICBhZGRTaG93OiBmYWxzZSwKICAgICAgcmVnaXN0ZXJSdWxlczogewogICAgICAgIHN0YWxsTnVtOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6L2m54mM5Y+3IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHN0YWxsQXJlYTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpei9puS9jeWMuuWfnyIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBzdGFsbFR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6novabkvY3nsbvlnosiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgY2FyVHlwZXM6IFt7CiAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgbGFiZWw6ICLlhajpg6giCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIuS4tOaXtui9puS9jSIsCiAgICAgICAgbGFiZWw6ICLkuLTml7bovabkvY0iCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIuWbuuWumui9puS9jSIsCiAgICAgICAgbGFiZWw6ICLlm7rlrprovabkvY0iCiAgICAgIH1dLAogICAgICBjYXJTdGF0ZXM6IFt7CiAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgbGFiZWw6ICLlhajpg6giCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIuW3suWBnOi9piIsCiAgICAgICAgbGFiZWw6ICLlt7LlgZzovaYiCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIuepuumXsuS4rSIsCiAgICAgICAgbGFiZWw6ICLnqbrpl7LkuK0iCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdCgpIHsKICAgICAgYXhpb3MucG9zdCgiL2FwaS9zdGFsbC9nZXRTdGFsbExpc3QiLCB0aGlzLnF1ZXJ5SW5mbykudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdGFsOwogICAgICAgIHRoaXMuY2FycyA9IHJlcy5kYXRhLmRhdGEucmVjb3JkczsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZShuZXdTaXplKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VTaXplID0gbmV3U2l6ZTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZShuZXdQYWdlKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VudW0gPSBuZXdQYWdlOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICBhZGRDYXIoKSB7CiAgICAgIGZvciAobGV0IGl0ZW0gaW4gdGhpcy5yZWdpc3RlckNhcikgewogICAgICAgIHRoaXMucmVnaXN0ZXJDYXJbaXRlbV0gPSAiIjsKICAgICAgfQogICAgICBpZiAodGhpcy5jYXJUeXBlc1swXS5sYWJlbCA9PSAi5YWo6YOoIikgewogICAgICAgIHRoaXMuY2FyVHlwZXMuc2hpZnQoKTsKICAgICAgfQogICAgICB0aGlzLmFkZFNob3cgPSB0cnVlOwogICAgfSwKICAgIGFkZENsb3NlKCkgewogICAgICBpZiAodGhpcy5jYXJUeXBlc1swXS5sYWJlbCAhPSAi5YWo6YOoIikgewogICAgICAgIHRoaXMuY2FyVHlwZXMudW5zaGlmdCh7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIGxhYmVsOiAi5YWo6YOoIgogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuYWRkU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5yZWdpc3RlclJ1bGVzLnJlc2V0RmllbGRzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zLnBvc3QoIi9hcGkvc3RhbGwvYWRkIiwgdGhpcy5yZWdpc3RlckNhcikudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmRhdGEuZmxhZykgewogICAgICAgICAgICAgIC8vIC9eW0EtWmEtejAtOV0rJC8KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIua3u+WKoOaIkOWKn++8gSIpOwogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgICAgICAgIHRoaXMuYWRkU2hvdyA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEuZGF0YS5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdG9FZGl0KGNhcikgewogICAgICBpZiAodGhpcy5jYXJUeXBlc1swXS5sYWJlbCA9PSAi5YWo6YOoIikgewogICAgICAgIHRoaXMuY2FyVHlwZXMuc2hpZnQoKTsKICAgICAgfQogICAgICB0aGlzLmVkaXRDYXIuc2lkID0gY2FyLnNpZDsKICAgICAgdGhpcy5lZGl0Q2FyLnN0YWxsQXJlYSA9IGNhci5zdGFsbEFyZWE7CiAgICAgIHRoaXMuZWRpdENhci5zdGFsbE51bSA9IGNhci5zdGFsbE51bTsKICAgICAgdGhpcy5lZGl0Q2FyLnN0YWxsVHlwZSA9IGNhci5zdGFsbFR5cGU7CiAgICAgIHRoaXMuZWRpdFNob3cgPSB0cnVlOwogICAgfSwKICAgIGVkaXRDbG9zZSgpIHsKICAgICAgaWYgKHRoaXMuY2FyVHlwZXNbMF0ubGFiZWwgIT0gIuWFqOmDqCIpIHsKICAgICAgICB0aGlzLmNhclR5cGVzLnVuc2hpZnQoewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBsYWJlbDogIuWFqOmDqCIKICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLmVkaXRTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLnJlZ2lzdGVyUnVsZXMucmVzZXRGaWVsZHMoKTsKICAgICAgfSk7CiAgICB9LAogICAgZWRpdFNlbmQoZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zLnBvc3QoIi9hcGkvc3RhbGwvdXBkYXRlIiwgdGhpcy5lZGl0Q2FyKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICBpZiAocmVzLmRhdGEuZGF0YS5mbGFnKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmm7TmlrDmiJDlip8iKTsKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgICAgICB0aGlzLmVkaXRTaG93ID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5kYXRhLm1zZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIHVzZVN0YWxsKHNpZCkgewogICAgICBjb25zdCByZSA9IGF3YWl0IHRoaXMuJGNvbmZpcm0oIuatpOaTjeS9nOWwhumihOWumuivpei9puS9jSwg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS5jYXRjaChlcnIgPT4gZXJyKTsKICAgICAgLy8gY29uc29sZS5sb2cocmUpCiAgICAgIGlmIChyZSAhPSAiY29uZmlybSIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oIuW3suWPlua2iOmihOWumu+8gSIpOwogICAgICB9IGVsc2UgewogICAgICAgIGF4aW9zLmdldCgiL2FwaS9zdGFsbC9vcmRlclN0YWxsP3VpZD0iICsgdGhpcy51aWQgKyAiJnNpZD0iICsgc2lkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuZGF0YSkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIumihOWumuaIkOWKn++8gSIpOwogICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIumihOWumuWksei0pe+8gSIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgY2FyRGVsZXRlKHNpZCkgewogICAgICBjb25zdCByZSA9IGF3YWl0IHRoaXMuJGNvbmZpcm0oIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpei9puS9jSwg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS5jYXRjaChlcnIgPT4gZXJyKTsKICAgICAgaWYgKHJlICE9ICJjb25maXJtIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygi5bey5Y+W5raI5Yig6Zmk77yBIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXhpb3MuZ2V0KCIvYXBpL3N0YWxsL2RlbD9zaWQ9IiArIHNpZCkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLmRhdGEpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip/vvIEiKTsKICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLliKDpmaTlpLHotKXvvIzpnZLomavmgKfmk43kvZzvvIEiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0KfTs="},{"version":3,"names":["axios","data","total","loading","queryInfo","carArea","carType","carState","pagenum","pageSize","cars","registerCar","editCar","sid","stallNum","stallArea","stallType","editShow","uid","undefined","addShow","registerRules","required","message","trigger","carTypes","value","label","carStates","methods","getList","post","then","res","records","handleSizeChange","newSize","handleCurrentChange","newPage","addCar","item","shift","addClose","unshift","$nextTick","$refs","resetFields","submitForm","formName","validate","valid","flag","$message","success","error","msg","toEdit","car","editClose","editSend","useStall","re","$confirm","confirmButtonText","cancelButtonText","type","catch","err","info","get","carDelete","mounted"],"sources":["src/components/car/CarManeger.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item\r\n                ><i\r\n                    class=\"iconfont icon-r-building\"\r\n                    style=\"margin: 5px; font-size: 22px\"\r\n                >\r\n                    车位信息管理</i\r\n                ></el-breadcrumb-item\r\n            >\r\n        </el-breadcrumb>\r\n\r\n        <!-- 卡片视图区域 -->\r\n        <el-card>\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"4\">\r\n                    <el-input\r\n                        v-model=\"queryInfo.carArea\"\r\n                        placeholder=\"请输入停车区域\"\r\n                    >\r\n                    </el-input>\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                    <el-select\r\n                        v-model=\"queryInfo.carType\"\r\n                        placeholder=\"请选择车位类型\"\r\n                    >\r\n                        <el-option\r\n                            v-for=\"item in carTypes\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\"\r\n                        ></el-option>\r\n                    </el-select>\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                    <el-select\r\n                        v-model=\"queryInfo.carState\"\r\n                        placeholder=\"请选择车位状态\"\r\n                    >\r\n                        <el-option\r\n                            v-for=\"item in carStates\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\"\r\n                        ></el-option>\r\n                    </el-select>\r\n                </el-col>\r\n                <el-col :span=\"3\">\r\n                    <el-button\r\n                        type=\"primary\"\r\n                        style=\"font-size: 18px\"\r\n                        @click=\"getList\"\r\n                    >\r\n                        <i class=\"iconfont icon-r-find\"  style=\"font-size: 22px;\"></i> 搜索</el-button\r\n                    >\r\n                </el-col>\r\n                <el-col :span=\"2\">\r\n                    <el-button\r\n                        type=\"success\"\r\n                        style=\"font-size: 18px\"\r\n                        @click=\"addCar\"\r\n                    >\r\n                       <i class=\"iconfont icon-r-add\"  style=\"font-size: 22px;\"></i>  新增</el-button\r\n                    >\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <!-- 车位信息区域 -->\r\n            <el-table v-loading=\"loading\" :data=\"cars\" border stripe>\r\n                <el-table-column\r\n                    width=\"50\"\r\n                    label=\"序号\"\r\n                    align=\"center\"\r\n                    type=\"index\"\r\n                ></el-table-column>\r\n                <el-table-column label=\"车位号\" prop=\"stallNum\" align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"车位区域\"\r\n                    prop=\"stallArea\"\r\n                    align=\"center\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"车位类型\"\r\n                    prop=\"stallType\"\r\n                    align=\"center\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"车位状态\"\r\n                    prop=\"stallState\"\r\n                    align=\"center\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"车位收费\"\r\n                    prop=\"stallMoney\"\r\n                    align=\"center\"\r\n                >\r\n                    <template slot-scope=\"scope\">\r\n                        {{ scope.row.stallMoney }}元/时\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"操作\"\r\n                    align=\"center\"\r\n                    width=\"200\"\r\n                    fixed=\"right\"\r\n                >\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                            @click=\"toEdit(scope.row)\"\r\n                            type=\"primary\"\r\n                            circle\r\n                            ><i\r\n                                class=\"iconfont icon-r-edit\"\r\n                                style=\"font-size: 24px\"\r\n                            ></i\r\n                        ></el-button>\r\n                        <el-button\r\n                            @click=\"carDelete(scope.row.sid)\"\r\n                            type=\"danger\"\r\n                            circle\r\n                            ><i\r\n                                class=\"iconfont icon-r-delete\"\r\n                                style=\"font-size: 24px\"\r\n                            ></i\r\n                        ></el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n\r\n            <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"queryInfo.pagenum\"\r\n                :page-sizes=\"[5, 10, 15, 20]\"\r\n                :page-size=\"queryInfo.pageSize\"\r\n                layout=\"total, sizes, prev, pager, next\"\r\n                :total=\"total\"\r\n            >\r\n            </el-pagination>\r\n        </el-card>\r\n        <el-dialog\r\n            title=\"新增车位\"\r\n            :visible.sync=\"addShow\"\r\n            width=\"500px\"\r\n            center\r\n            @close=\"addClose\"\r\n        >\r\n            <!-- 内容主题区域 -->\r\n            <el-form\r\n                :model=\"registerCar\"\r\n                status-icon\r\n                :rules=\"registerRules\"\r\n                ref=\"registerRules\"\r\n                label-width=\"100px\"\r\n                class=\"demo-ruleForm\"\r\n            >\r\n                <el-form-item\r\n                    label=\"车位号\"\r\n                    prop=\"stallNum\"\r\n                    class=\"is-required\"\r\n                >\r\n                    <el-input\r\n                        v-model=\"registerCar.stallNum\"\r\n                        placeholder=\"请输入车位号\"\r\n                        style=\"width: 300px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item\r\n                    label=\"车位区域\"\r\n                    prop=\"stallArea\"\r\n                    class=\"is-required\"\r\n                >\r\n                    <el-input\r\n                        v-model=\"registerCar.stallArea\"\r\n                        placeholder=\"请输入车位区域\"\r\n                    >\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item\r\n                    label=\"车位类型\"\r\n                    prop=\"stallType\"\r\n                    class=\"is-required\"\r\n                >\r\n                    <el-select\r\n                        v-model=\"registerCar.stallType\"\r\n                        placeholder=\"请选择车位类型\"\r\n                    >\r\n                        <el-option\r\n                            v-for=\"item in carTypes\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\"\r\n                        ></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n            </el-form>\r\n\r\n            <!-- 底部区域 -->\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addClose\" style=\"font-size: 18px;\"><i class=\"iconfont icon-r-left\" style=\"font-size: 22px;\"></i> 取消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('registerRules')\"\r\n                    style=\"font-size: 18px;\"><i class=\"iconfont icon-r-yes\" style=\"font-size: 22px;\"></i> 确认添加</el-button\r\n                >\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <el-dialog\r\n            title=\"修改车位\"\r\n            :visible.sync=\"editShow\"\r\n            width=\"500px\"\r\n            center\r\n            @close=\"editClose\"\r\n        >\r\n            <!-- 内容主题区域 -->\r\n            <el-form\r\n                :model=\"editCar\"\r\n                status-icon\r\n                :rules=\"registerRules\"\r\n                ref=\"registerRules\"\r\n                label-width=\"100px\"\r\n                class=\"demo-ruleForm\"\r\n            >\r\n                <el-form-item\r\n                    label=\"车位号\"\r\n                    prop=\"stallNum\"\r\n                    class=\"is-required\"\r\n                >\r\n                    <el-input\r\n                        v-model=\"editCar.stallNum\"\r\n                        placeholder=\"请输入车位号\"\r\n                        style=\"width: 300px\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item\r\n                    label=\"车位区域\"\r\n                    prop=\"stallArea\"\r\n                    class=\"is-required\"\r\n                >\r\n                    <el-input\r\n                        v-model=\"editCar.stallArea\"\r\n                        placeholder=\"请输入车位区域\"\r\n                    >\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item\r\n                    label=\"车位类型\"\r\n                    prop=\"stallType\"\r\n                    class=\"is-required\"\r\n                >\r\n                    <el-select\r\n                        v-model=\"editCar.stallType\"\r\n                        placeholder=\"请选择车位类型\"\r\n                    >\r\n                        <el-option\r\n                            v-for=\"item in carTypes\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\"\r\n                        ></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n            </el-form>\r\n\r\n            <!-- 底部区域 -->\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editClose\" style=\"font-size: 18px;\"><i class=\"iconfont icon-r-left\" style=\"font-size: 22px;\"></i> 取消</el-button>\r\n                <el-button\r\n                    type=\"primary\"\r\n                    @click=\"editSend('registerRules')\"\r\n                style=\"font-size: 18px;\"><i class=\"iconfont icon-r-yes\" style=\"font-size: 22px;\"></i> \r\n                    确认修改</el-button\r\n                >\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            total: 0,\r\n            loading: true,\r\n            queryInfo: {\r\n                carArea: \"\",\r\n                carType: \"\",\r\n                carState: \"\",\r\n                pagenum: 1,\r\n                pageSize: 6,\r\n            },\r\n            cars: [],\r\n            registerCar: {},\r\n            editCar: {\r\n                sid: \"\",\r\n                stallNum: \"\",\r\n                stallArea: \"\",\r\n                stallType: \"\",\r\n            },\r\n            editShow: false,\r\n            uid: undefined,\r\n            addShow: false,\r\n            registerRules: {\r\n                stallNum: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入车牌号\",\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n                stallArea: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入车位区域\",\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n                stallType: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请选择车位类型\",\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n            },\r\n            carTypes: [\r\n                {\r\n                    value: null,\r\n                    label: \"全部\",\r\n                },\r\n                {\r\n                    value: \"临时车位\",\r\n                    label: \"临时车位\",\r\n                },\r\n                {\r\n                    value: \"固定车位\",\r\n                    label: \"固定车位\",\r\n                },\r\n            ],\r\n            carStates: [\r\n                {\r\n                    value: null,\r\n                    label: \"全部\",\r\n                },\r\n                {\r\n                    value: \"已停车\",\r\n                    label: \"已停车\",\r\n                },\r\n                {\r\n                    value: \"空闲中\",\r\n                    label: \"空闲中\",\r\n                },\r\n            ],\r\n        };\r\n    },\r\n    methods: {\r\n        getList() {\r\n            axios\r\n                .post(\"/api/stall/getStallList\", this.queryInfo)\r\n                .then((res) => {\r\n                    this.loading = false;\r\n                    this.total = res.data.data.total;\r\n                    this.cars = res.data.data.records;\r\n                });\r\n        },\r\n        handleSizeChange(newSize) {\r\n            this.queryInfo.pageSize = newSize;\r\n            this.getList();\r\n        },\r\n        handleCurrentChange(newPage) {\r\n            this.queryInfo.pagenum = newPage;\r\n            this.getList();\r\n        },\r\n        addCar() {\r\n            for (let item in this.registerCar) {\r\n                this.registerCar[item] = \"\";\r\n            }\r\n            if (this.carTypes[0].label == \"全部\") {\r\n                this.carTypes.shift();\r\n            }\r\n            this.addShow = true;\r\n        },\r\n        addClose() {\r\n            if (this.carTypes[0].label != \"全部\") {\r\n                this.carTypes.unshift({ value: null, label: \"全部\" });\r\n            }\r\n            this.addShow = false;\r\n            this.$nextTick(() => {\r\n                this.$refs.registerRules.resetFields();\r\n            });\r\n        },\r\n        submitForm(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    this.loading = true;\r\n                    axios\r\n                        .post(\"/api/stall/add\", this.registerCar)\r\n                        .then((res) => {\r\n                            this.loading = false;\r\n                            if (res.data.data.flag) {\r\n                                // /^[A-Za-z0-9]+$/\r\n                                this.$message.success(\"添加成功！\");\r\n                                this.getList();\r\n                                this.addShow = false;\r\n                            } else {\r\n                                this.$message.error(res.data.data.msg);\r\n                            }\r\n                        });\r\n                } else {\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        toEdit(car) {\r\n            if (this.carTypes[0].label == \"全部\") {\r\n                this.carTypes.shift();\r\n            }\r\n            this.editCar.sid = car.sid;\r\n            this.editCar.stallArea = car.stallArea;\r\n            this.editCar.stallNum = car.stallNum;\r\n            this.editCar.stallType = car.stallType;\r\n            this.editShow = true;\r\n        },\r\n        editClose() {\r\n            if (this.carTypes[0].label != \"全部\") {\r\n                this.carTypes.unshift({ value: null, label: \"全部\" });\r\n            }\r\n\r\n            this.editShow = false;\r\n            this.$nextTick(() => {\r\n                this.$refs.registerRules.resetFields();\r\n            });\r\n        },\r\n        editSend(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    this.loading = true;\r\n                    axios\r\n                        .post(\"/api/stall/update\", this.editCar)\r\n                        .then((res) => {\r\n                            this.loading = false;\r\n                            if (res.data.data.flag) {\r\n                                this.$message.success(\"更新成功\");\r\n                                this.getList();\r\n                                this.editShow = false;\r\n                            } else {\r\n                                this.$message.error(res.data.data.msg);\r\n                            }\r\n                        });\r\n                } else {\r\n                    // console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        async useStall(sid) {\r\n            const re = await this.$confirm(\r\n                \"此操作将预定该车位, 是否继续?\",\r\n                \"提示\",\r\n                {\r\n                    confirmButtonText: \"确定\",\r\n                    cancelButtonText: \"取消\",\r\n                    type: \"warning\",\r\n                }\r\n            ).catch((err) => err);\r\n            // console.log(re)\r\n            if (re != \"confirm\") {\r\n                this.$message.info(\"已取消预定！\");\r\n            } else {\r\n                axios\r\n                    .get(\r\n                        \"/api/stall/orderStall?uid=\" + this.uid + \"&sid=\" + sid\r\n                    )\r\n                    .then((res) => {\r\n                        if (res.data.data) {\r\n                            this.$message.success(\"预定成功！\");\r\n                            this.getList();\r\n                        } else {\r\n                            this.$message.error(\"预定失败！\");\r\n                        }\r\n                    });\r\n            }\r\n        },\r\n        async carDelete(sid) {\r\n            const re = await this.$confirm(\r\n                \"此操作将永久删除该车位, 是否继续?\",\r\n                \"提示\",\r\n                {\r\n                    confirmButtonText: \"确定\",\r\n                    cancelButtonText: \"取消\",\r\n                    type: \"warning\",\r\n                }\r\n            ).catch((err) => err);\r\n            if (re != \"confirm\") {\r\n                this.$message.info(\"已取消删除！\");\r\n            } else {\r\n                axios.get(\"/api/stall/del?sid=\" + sid).then((res) => {\r\n                    if (res.data.data) {\r\n                        this.$message.success(\"删除成功！\");\r\n                        this.getList();\r\n                    } else {\r\n                        this.$message.error(\"删除失败，青虫性操作！\");\r\n                    }\r\n                });\r\n            }\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getList();\r\n    },\r\n};\r\n</script>"],"mappings":"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","ignoreList":[]}]}